<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body{
            overflow: hidden;
        }
        #leftbox{
            position: fixed;
            width: 1px;
            height: 3px;
            position: absolute;
            top: 400px;
            left: 0px;
            background-color: white;
            visibility: visible;
        }
        #rightbox{
            position: fixed;
            width: 1px;
            height: 3px;
            position: absolute;
            top: 400px;
            right: 0px;
            background-color: white;
            visibility: visible;
            direction: rtl;
        }
       #per{
          font-size: 20px;
           color: white;
           position: fixed;
           left:48%;
           top:41.5%;
           visibility: visible;
          
       }
       #enter{
           font-size: 20px;
        color: white;
           position: fixed;
           left:46.4%;
           top:39%;
           visibility:hidden;
           animation-name: blink;
           animation-duration: 3.5s;
           animation-iteration-count: infinite;
       }
       @keyframes blink {
        0% {color: white;}
        25% {color: black;}
        50% {color: white;}
        75% {color: black;}
        100% {color: white;}
       }
       .ball {
            position: absolute;
            border-radius: 50%;
        }
          
    </style>
    <script>
         document.onkeydown=function(e){
        var keyNum=window.event?e.keyCode:e.which;
        if(keyNum==13){
           window.location.href='scr/content.html';
        }
       }
    </script>
</head>
<body bgcolor="#000000">
    <di>
        <div id="leftbox">       
        </div>
      <div id="rightbox"></div>  
     <div id="per">
         <p>0%</p>
     </div> 
     <div id="enter">
      <p>>Press Enter<</p>
    </di>
     </div>
    
   

   <script>
       window.onload(move());
      
       function id(x){
           if(typeof x == "string"){
            return document.getElementById(x);
           }
           return x;
       }
    function move(){
        var leftbox = id('leftbox');
        var pos=0;
        var per=id('per');
        var count=setInterval(frame,5);
        function frame(){
        if(pos==300){         
                clearInterval(count);
                leftbox.style.visibility="hidden";
                rightbox.style.visibility="hidden";
                per.style.visibility="hidden";
                enter.style.visibility="visible";
                 //小球类
    function Ball(x, y) {
            //x,y表示圆心坐标
            this.x = x;
            this.y = y;
            //r表示圆的半径
            this.r = 20;
            //r表示圆的透明度
            this.opacity = 1;
            //随机色
            this.color = colorArr[parseInt(Math.random() * colorArr.length)];
            do {
                this.dx = parseInt(Math.random() * 20) - 10;
                this.dy = parseInt(Math.random() * 20) - 10;
            } while (this.dx == 0 && this.dy == 0)

            this.init();

            ballArr.push(this);
        }
        //初始化
        Ball.prototype.init = function () {
            //创建dom
            this.dom = document.createElement('div');
            this.dom.className = 'ball';
            this.dom.style.width = this.r * 2 + 'px';
            this.dom.style.height = this.r * 2 + 'px';
            this.dom.style.left = this.x - this.r + 'px';
            this.dom.style.top = this.y - this.r + 'px';
            this.dom.style.backgroundColor = this.color;
            //上树
            document.body.appendChild(this.dom);
        }
        //更新
        Ball.prototype.update = function () {
            this.x += this.dx;
            this.y += this.dy;
            this.r += 0.2;
            this.opacity -= 0.01;
            this.dom.style.width = this.r * 2 + 'px';
            this.dom.style.height = this.r * 2 + 'px';
            this.dom.style.left = this.x - this.r + 'px';
            this.dom.style.top = this.y - this.r + 'px';
            this.dom.style.opacity = this.opacity
            if (this.opacity < 0) {
                for (var i = 0; i < ballArr.length; i++) {
                    if (ballArr[i] == this) {
                        ballArr.splice(i, 1);
                    }
                }
                document.body.removeChild(this.dom);
            }
        }

        var ballArr = [];
        var colorArr = ['#66CCCC', '#CCFF66', '#FF99CC', '#FF6666', '#CC3399', '#FF6600'];
        // 定时器
        setInterval(function () {
            for (var i = 0; i < ballArr.length; i++) {
                ballArr[i].update();
            }
        }, 20)
        //鼠标移动
        document.onmousemove = function (e) {
            var x = e.clientX;
            var y = e.clientY;
            new Ball(x, y);
        }
            }else{
            pos++;
            leftbox.style.width=2.9*pos+"px";
            rightbox.style.width=2.9*pos+"px";
            console.log(leftbox.style.left);
            per.innerHTML=Math.floor(pos/3) +"%";
        }
               
        }

      

    }
   
</script>
</body>
</html>