<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="..\css\indexCSS.css">
    <title>程序二</title>
</head>
<body>
    <div id="chapters">
        <li><a href="..\index.html">序章</a></li>
        <li><a href="L1.html">程序一</a></li>
        <li><a href="L2.html">程序二</a></li>
        <li><a href="L3.html">编程介绍</a></li>

    </div>
    
    <div id="dir">
        <dir>
            <li><a href="#dp">程序读取过程</a></li>
            <li><a href="#dp1">程序执行过程</a></li>
            
        </dir>
    </div>
    <div id="CenterBox">
        
        <h1 align="center">2.程序是怎么执行的</h1>
        <h2><a name="dp">程序读取过程</h2>
        <p>&nbsp;&nbsp;书接上回，先来复习一下程序是怎么被读取运行的吧。</p>
        <img class="newimg" src="..\img\dp.PNG">
        <p>&nbsp;&nbsp;①程序在被读取前，以数据形式存储在硬盘内。</p>
        <p>&nbsp;&nbsp;②程序在被读取时，数据被复制进内存中。</p>
        <p>&nbsp;&nbsp;③CPU向内存中读取数据，并对数据进行运算，根据运算结果，进行对硬件的控制。</p>
        <h2><a name="dp1">程序执行过程</a></h2>
        <p>&nbsp;&nbsp;比如有一条计算123和456相加并将结果显示在屏幕上的程序，我们先不管这个程序是用哪个编程语言编写的，这条程序大概长这个样子：</p>
        <p>&nbsp;&nbsp;1.声明第一个数字123。</p>
        <p>&nbsp;&nbsp;2.声明第二个数字456。</p>
        <p>&nbsp;&nbsp;3.将123与456进行相加。</p>
        <p>&nbsp;&nbsp;4.将相加后的结果通过调用屏幕的相关接口显示在屏幕上。</p>
        <p>&nbsp;&nbsp;5.结束程序。</p>
        <p>&nbsp;&nbsp;当我们用编程语言写以上四条程序语句时，我们是能看得懂我们写的是什么，但是计算机是不懂人类语言的，计算机只懂0和1。所以程序的本质就是一堆0和1。物理层面讲，计算机内存中有以亿量级的“开关”，0表示关，1表示开。一个开关就是一个比特（位数），八个开关为一组，那就是一个字节。有多少开关，内存就有多大。感兴趣的也可以看下自己电脑的内存大小，算下有多少个这样的开关。
        </p>
        <img class="newimg" src="..\img\ic.PNG">
        <p>&nbsp;&nbsp;不管是数字123或者456本身，还是将数字相加的命令语句，在底层都是一堆0和1，计算机通过读取识别这些0和1，打开或关闭对应位置的“开关”。</p>
        <p>&nbsp;&nbsp;我们在内存中，无数的开关之上，圈一块出来，这块内存，赋予一个地址值0105用来标记这块内存，我们用这块内存存储数据123。再圈一块，赋予地址值0106，存储数据456。</p>
        <p>&nbsp;&nbsp;接着再圈出几块内存，用来存放命令语句。在内存中，有一个工具叫做程序计数器，程序计数器的数值是地址值，当前地址值是多少，CPU里的控制器，运算器，寄存器等就去执行相应地址值里存储的数据或命令。每执行完一个地址值的数据，程序计数器在原有地址值上自动+1，即自动执行下一个内存地址。</p>
        <p>&nbsp;&nbsp;123+456的执行过程如下：</p>
        <img class="newimg" src="..\img\123.PNG">
        <p>&nbsp;&nbsp;程序计数器里的地址值未必都是每次自增1。我们看下面这个例子。</p>
        <p>&nbsp;&nbsp;现在我们有一个需求，当给定一个值（不为0）时，若该值为正数，则显示在屏幕上，若该值为负数，则取反数使之成为正数，最后显示在屏幕上。</p>
        <p>&nbsp;&nbsp;这条程序大概是这个样子：</p>
        <p>&nbsp;&nbsp;1.声明一个不为0的数。假设为123。</p>
        <p>&nbsp;&nbsp;2.比较这个数和0的大小。</p>
        <p>&nbsp;&nbsp;3.若结果大于0，则将该数显示在屏幕上。否则，</p>
        <p>&nbsp;&nbsp;4.若结果小于0，则取该数的反数并显示在屏幕上。</p>
        <p>&nbsp;&nbsp;5.结束程序。</p>
        <p>&nbsp;&nbsp;计算机执行命令的顺序，是自上而下的线性方式。我们看到语句3是写在语句4的上方的，如果计数器每次执行完都自增1，那即使计算结果小于0时，计算机也必定会执行一次语句3。</p>
        <p>&nbsp;&nbsp;为避免这种情况，我们可以在命令语句里，直接修改程序计数器的地址值，该程序流程如下：</p>
        <img class="newimg" src="..\img\456.PNG">
        <p>&nbsp;&nbsp;我们常遇到的指针，指的就是对应的地址。因为计数器指向的地址值人为可控，当控制不当时就会发生所谓“空指针错误”，要么指向的地址不存在，要么指向的地址不存在数据。相比C语言，Java语言中删除了令人头秃的指针控制（不代表指针不存在），使得空指针异常的问题大大减少。</p>




    </div>  
</body>
</html>
